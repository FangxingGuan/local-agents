<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>NewsBreak æœ¬åœ°AIåŠ©æ‰‹</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; }
:root {
  --red: #E02020; --dark: #1a1a1a; --gray: #f5f5f7; --gray2: #e8e8e8;
  --text: #333; --text2: #666; --text3: #999; --white: #fff;
  --shadow: 0 2px 12px rgba(0,0,0,0.08); --radius: 16px;
}
body { font-family: -apple-system,BlinkMacSystemFont,"Segoe UI","PingFang SC","Hiragino Sans GB",sans-serif; background:#f0f0f0; display:flex; justify-content:center; min-height:100vh; padding:20px 0; }
.phone { width:430px; max-width:100%; min-height:90vh; background:var(--gray); border-radius:32px; overflow:hidden; position:relative; box-shadow:0 8px 40px rgba(0,0,0,0.15); }

/* Screens */
.screen { display:none; min-height:90vh; animation:fadeIn .3s ease; }
.screen.active { display:block; }
@keyframes fadeIn { from{opacity:0;transform:translateY(10px)} to{opacity:1;transform:translateY(0)} }

/* === SPLASH === */
#splash { background:linear-gradient(135deg,#E02020 0%,#c41818 100%); color:#fff; display:flex; flex-direction:column; align-items:center; justify-content:center; padding:40px 24px; text-align:center; }
#splash.active { display:flex; }
#splash h1 { font-size:32px; font-weight:800; margin-bottom:8px; letter-spacing:-0.5px; }
#splash .subtitle { font-size:16px; opacity:.85; margin-bottom:48px; }
#splash .logo { font-size:56px; margin-bottom:24px; }
.city-grid { display:grid; grid-template-columns:1fr 1fr 1fr; gap:12px; width:100%; max-width:360px; margin-bottom:24px; }
.city-btn { background:rgba(255,255,255,.18); backdrop-filter:blur(8px); border:1.5px solid rgba(255,255,255,.3); color:#fff; padding:16px 8px; border-radius:14px; font-size:14px; font-weight:600; cursor:pointer; transition:all .2s; }
.city-btn:hover { background:rgba(255,255,255,.3); transform:scale(1.04); }
.city-btn .icon { font-size:28px; display:block; margin-bottom:6px; }
.city-btn .name { display:block; }
#splash .hint { font-size:13px; opacity:.6; margin-top:8px; }

/* === ONBOARDING === */
#onboard { background:#fff; padding:0; }
.ob-header { background:var(--red); color:#fff; padding:48px 24px 28px; }
.ob-header h2 { font-size:24px; font-weight:700; }
.ob-header p { font-size:14px; opacity:.8; margin-top:6px; }
.ob-body { padding:24px; }
.ob-section { margin-bottom:28px; }
.ob-section h3 { font-size:15px; font-weight:700; color:var(--text); margin-bottom:12px; }
.topic-grid { display:flex; flex-wrap:wrap; gap:10px; }
.topic-chip { display:flex; align-items:center; gap:6px; padding:10px 16px; border-radius:24px; border:1.5px solid var(--gray2); font-size:14px; cursor:pointer; transition:all .2s; user-select:none; }
.topic-chip.selected { background:var(--red); color:#fff; border-color:var(--red); }
.topic-chip .check { display:none; }
.topic-chip.selected .check { display:inline; }
.ob-input { width:100%; padding:12px 16px; border:1.5px solid var(--gray2); border-radius:12px; font-size:14px; outline:none; transition:border .2s; }
.ob-input:focus { border-color:var(--red); }
.ob-input::placeholder { color:var(--text3); }
.ob-start { width:100%; padding:16px; background:var(--red); color:#fff; border:none; border-radius:14px; font-size:17px; font-weight:700; cursor:pointer; transition:all .2s; }
.ob-start:hover { background:#c41818; transform:scale(1.02); }
.ob-row { display:flex; align-items:center; gap:12px; margin-bottom:12px; }
.ob-toggle { width:48px; height:28px; background:var(--gray2); border-radius:14px; position:relative; cursor:pointer; transition:background .2s; flex-shrink:0; }
.ob-toggle.on { background:var(--red); }
.ob-toggle::after { content:''; position:absolute; top:3px; left:3px; width:22px; height:22px; background:#fff; border-radius:50%; transition:left .2s; box-shadow:0 1px 3px rgba(0,0,0,.2); }
.ob-toggle.on::after { left:23px; }

/* === DASHBOARD === */
#dashboard { background:var(--gray); padding-bottom:80px; }
.dash-top { background:var(--red); color:#fff; padding:52px 20px 20px; }
.dash-top-row { display:flex; justify-content:space-between; align-items:center; }
.dash-city { font-size:22px; font-weight:700; }
.dash-weather { font-size:14px; opacity:.9; display:flex; align-items:center; gap:6px; }
.dash-date { font-size:13px; opacity:.7; margin-top:4px; }
.dash-cards { padding:16px; display:flex; flex-direction:column; gap:14px; margin-top:-8px; }

/* Cards */
.card { background:#fff; border-radius:var(--radius); padding:20px; box-shadow:var(--shadow); transition:transform .2s; }
.card:active { transform:scale(0.98); }
.card-head { display:flex; justify-content:space-between; align-items:center; margin-bottom:14px; }
.card-title { font-size:16px; font-weight:700; color:var(--text); display:flex; align-items:center; gap:8px; }
.card-badge { font-size:11px; background:var(--red); color:#fff; padding:3px 10px; border-radius:20px; font-weight:600; }
.card-badge.green { background:#22c55e; }
.card-badge.orange { background:#f59e0b; }
.card-more { font-size:13px; color:var(--red); font-weight:600; cursor:pointer; }

/* Life Brief Card */
.brief-grid { display:grid; grid-template-columns:1fr 1fr 1fr 1fr; gap:8px; margin-bottom:16px; }
.brief-item { text-align:center; padding:10px 4px; background:var(--gray); border-radius:12px; }
.brief-item .val { font-size:18px; font-weight:700; color:var(--text); }
.brief-item .label { font-size:11px; color:var(--text3); margin-top:2px; }
.brief-news { list-style:none; }
.brief-news li { padding:10px 0; border-bottom:1px solid var(--gray); font-size:14px; color:var(--text); line-height:1.5; display:flex; gap:8px; }
.brief-news li:last-child { border:none; }
.brief-news .dot { color:var(--red); font-weight:700; flex-shrink:0; }

/* Safety Card */
.safety-items { display:flex; flex-direction:column; gap:10px; }
.safety-item { display:flex; gap:10px; align-items:flex-start; padding:10px 12px; background:var(--gray); border-radius:12px; }
.safety-icon { font-size:20px; flex-shrink:0; width:32px; height:32px; display:flex; align-items:center; justify-content:center; background:#fff; border-radius:8px; }
.safety-text { font-size:13px; color:var(--text); line-height:1.5; }
.safety-text .time { color:var(--text3); font-size:12px; }

/* School Card */
.school-items { display:flex; flex-direction:column; gap:8px; }
.school-item { display:flex; gap:10px; align-items:flex-start; }
.school-item .icon { font-size:18px; flex-shrink:0; }
.school-item .text { font-size:13px; line-height:1.5; color:var(--text); }
.school-item .text strong { color:var(--dark); }
.school-rating { display:inline-flex; align-items:center; gap:4px; background:#22c55e; color:#fff; padding:4px 10px; border-radius:8px; font-size:12px; font-weight:700; margin-top:10px; }

/* Real Estate Card */
.re-stats { display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-bottom:14px; }
.re-stat { padding:12px; background:var(--gray); border-radius:12px; }
.re-stat .val { font-size:20px; font-weight:800; color:var(--text); }
.re-stat .label { font-size:11px; color:var(--text3); margin-top:2px; }
.re-stat .change { font-size:12px; font-weight:600; }
.re-stat .change.up { color:#22c55e; }
.re-stat .change.down { color:var(--red); }
.re-chart { height:48px; display:flex; align-items:flex-end; gap:4px; padding:0 4px; }
.re-bar { flex:1; background:var(--red); border-radius:4px 4px 0 0; opacity:.7; transition:height .5s ease; }

/* Events Card */
.event-items { display:flex; flex-direction:column; gap:10px; }
.event-item { display:flex; gap:12px; align-items:center; }
.event-date { width:48px; height:48px; background:var(--red); color:#fff; border-radius:12px; display:flex; flex-direction:column; align-items:center; justify-content:center; flex-shrink:0; }
.event-date .month { font-size:10px; text-transform:uppercase; opacity:.8; }
.event-date .day { font-size:20px; font-weight:800; }
.event-info .name { font-size:14px; font-weight:600; color:var(--text); }
.event-info .loc { font-size:12px; color:var(--text3); margin-top:2px; }

/* Business Card */
.biz-items { display:flex; flex-direction:column; gap:12px; }
.biz-item { display:flex; gap:12px; }
.biz-img { width:64px; height:64px; border-radius:12px; flex-shrink:0; display:flex; align-items:center; justify-content:center; font-size:28px; }
.biz-info .name { font-size:14px; font-weight:600; color:var(--text); }
.biz-info .cat { font-size:11px; color:var(--red); font-weight:600; margin-top:1px; }
.biz-info .desc { font-size:12px; color:var(--text2); margin-top:4px; line-height:1.4; }

/* === CHAT === */
.chat-fab { position:fixed; bottom:100px; right:50%; transform:translateX(195px); width:56px; height:56px; background:var(--red); color:#fff; border:none; border-radius:50%; font-size:24px; cursor:pointer; box-shadow:0 4px 16px rgba(224,32,32,.4); z-index:100; transition:all .2s; display:none; }
.chat-fab:hover { transform:translateX(195px) scale(1.1); }
.chat-fab.show { display:block; }
#chatOverlay { position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,.5); z-index:200; display:none; justify-content:center; align-items:flex-end; }
#chatOverlay.show { display:flex; }
.chat-panel { width:430px; max-width:100%; height:70vh; background:#fff; border-radius:20px 20px 0 0; display:flex; flex-direction:column; animation:slideUp .3s ease; }
@keyframes slideUp { from{transform:translateY(100%)} to{transform:translateY(0)} }
.chat-header { padding:16px 20px; border-bottom:1px solid var(--gray); display:flex; justify-content:space-between; align-items:center; }
.chat-header h3 { font-size:16px; font-weight:700; }
.chat-close { background:none; border:none; font-size:20px; cursor:pointer; color:var(--text3); padding:4px; }
.chat-messages { flex:1; overflow-y:auto; padding:16px; display:flex; flex-direction:column; gap:12px; }
.chat-msg { max-width:85%; padding:12px 16px; border-radius:16px; font-size:14px; line-height:1.5; animation:msgIn .3s ease; }
@keyframes msgIn { from{opacity:0;transform:translateY(8px)} to{opacity:1;transform:translateY(0)} }
.chat-msg.bot { background:var(--gray); color:var(--text); align-self:flex-start; border-bottom-left-radius:4px; }
.chat-msg.user { background:var(--red); color:#fff; align-self:flex-end; border-bottom-right-radius:4px; }
.chat-typing { align-self:flex-start; padding:12px 20px; background:var(--gray); border-radius:16px; display:none; }
.chat-typing span { display:inline-block; width:8px; height:8px; background:var(--text3); border-radius:50%; margin:0 2px; animation:bounce .6s infinite alternate; }
.chat-typing span:nth-child(2) { animation-delay:.2s; }
.chat-typing span:nth-child(3) { animation-delay:.4s; }
@keyframes bounce { to{transform:translateY(-6px);opacity:.4} }
.chat-chips { display:flex; flex-wrap:wrap; gap:8px; padding:12px 16px; border-top:1px solid var(--gray); }
.chat-chip { padding:8px 16px; background:var(--gray); border:1.5px solid var(--gray2); border-radius:20px; font-size:13px; cursor:pointer; transition:all .2s; white-space:nowrap; }
.chat-chip:hover { border-color:var(--red); color:var(--red); }
.chat-input-row { display:flex; gap:8px; padding:12px 16px; border-top:1px solid var(--gray); }
.chat-input { flex:1; padding:10px 16px; border:1.5px solid var(--gray2); border-radius:24px; font-size:14px; outline:none; }
.chat-input:focus { border-color:var(--red); }
.chat-send { width:40px; height:40px; background:var(--red); color:#fff; border:none; border-radius:50%; cursor:pointer; font-size:18px; }

/* Podcast Card */
.podcast-card { display:flex; align-items:center; gap:14px; padding:14px; background:var(--gray); border-radius:14px; }
.podcast-play { width:48px; height:48px; background:var(--red); border-radius:50%; display:flex; align-items:center; justify-content:center; color:#fff; font-size:22px; flex-shrink:0; cursor:pointer; }
.podcast-info .name { font-size:14px; font-weight:600; }
.podcast-info .dur { font-size:12px; color:var(--text3); }
.podcast-wave { flex:1; height:32px; display:flex; align-items:center; gap:2px; }
.podcast-wave span { width:3px; background:var(--red); border-radius:2px; opacity:.5; }

/* Tab bar */
.tab-bar { position:fixed; bottom:0; left:50%; transform:translateX(-50%); width:430px; max-width:100%; background:#fff; border-top:1px solid var(--gray2); display:none; padding:8px 0 28px; z-index:50; }
.tab-bar.show { display:flex; justify-content:space-around; }
.tab-item { text-align:center; font-size:10px; color:var(--text3); cursor:pointer; padding:4px 0; }
.tab-item.active { color:var(--red); }
.tab-item .icon { font-size:22px; display:block; margin-bottom:2px; }
</style>
</head>
<body>

<div class="phone" id="app">
  <!-- SPLASH -->
  <div class="screen active" id="splash">
    <div class="logo">ğŸ“°</div>
    <h1>NewsBreak</h1>
    <div class="subtitle">æœ¬åœ°AIåŠ©æ‰‹ Â· ä½ çš„åŸå¸‚ï¼Œä½ å®šåˆ¶</div>
    <div class="city-grid">
      <button class="city-btn" onclick="selectCity('Palo Alto')"><span class="icon">ğŸŒ²</span><span class="name">Palo Alto</span></button>
      <button class="city-btn" onclick="selectCity('Mountain View')"><span class="icon">â›°ï¸</span><span class="name">Mountain View</span></button>
      <button class="city-btn" onclick="selectCity('San Jose')"><span class="icon">ğŸ™ï¸</span><span class="name">San Jose</span></button>
      <button class="city-btn" onclick="selectCity('Sunnyvale')"><span class="icon">â˜€ï¸</span><span class="name">Sunnyvale</span></button>
      <button class="city-btn" onclick="selectCity('San Francisco')"><span class="icon">ğŸŒ‰</span><span class="name">San Francisco</span></button>
      <button class="city-btn" onclick="selectCity('Menlo Park')"><span class="icon">ğŸ¡</span><span class="name">Menlo Park</span></button>
    </div>
    <div class="hint">é€‰æ‹©ä½ çš„åŸå¸‚ï¼Œå¼€å¯ä¸ªæ€§åŒ–æœ¬åœ°åŠ©æ‰‹</div>
  </div>

  <!-- ONBOARDING -->
  <div class="screen" id="onboard">
    <div class="ob-header">
      <h2>ğŸ‘‹ å®šåˆ¶ä½ çš„ <span id="obCity">Palo Alto</span> åŠ©æ‰‹</h2>
      <p>é€‰æ‹©å…³æ³¨å†…å®¹ï¼ŒAIä¸ºä½ æ¯æ—¥ç”Ÿæˆ</p>
    </div>
    <div class="ob-body">
      <div class="ob-section">
        <h3>ğŸ“Œ é€‰æ‹©å…³æ³¨è¯é¢˜</h3>
        <div class="topic-grid">
          <div class="topic-chip selected" onclick="toggleTopic(this)"><span class="check">âœ“ </span>ğŸ›¡ï¸ å®‰å…¨æŠ¥å‘Š</div>
          <div class="topic-chip selected" onclick="toggleTopic(this)"><span class="check">âœ“ </span>ğŸ« å­¦åŒºåŠ¨æ€</div>
          <div class="topic-chip selected" onclick="toggleTopic(this)"><span class="check">âœ“ </span>ğŸ  æˆ¿äº§</div>
          <div class="topic-chip" onclick="toggleTopic(this)"><span class="check">âœ“ </span>ğŸ“… æ´»åŠ¨</div>
          <div class="topic-chip" onclick="toggleTopic(this)"><span class="check">âœ“ </span>ğŸª å•†å®¶</div>
          <div class="topic-chip selected" onclick="toggleTopic(this)"><span class="check">âœ“ </span>ğŸŒ¤ï¸ å¤©æ°”</div>
          <div class="topic-chip" onclick="toggleTopic(this)"><span class="check">âœ“ </span>ğŸ™ï¸ æ’­å®¢</div>
          <div class="topic-chip" onclick="toggleTopic(this)"><span class="check">âœ“ </span>ğŸ›ï¸ æ”¿åºœ</div>
        </div>
      </div>
      <div class="ob-section">
        <h3>ğŸ‘¶ å®¶æœ‰å­¦é¾„å„¿ç«¥ï¼Ÿ</h3>
        <div class="ob-row">
          <div class="ob-toggle on" onclick="this.classList.toggle('on')"></div>
          <span style="font-size:14px;color:var(--text)">è‡ªåŠ¨è¿½è¸ªPAUSDå­¦åŒºåŠ¨æ€</span>
        </div>
      </div>
      <div class="ob-section">
        <h3>ğŸš— é€šå‹¤è·¯çº¿</h3>
        <input class="ob-input" placeholder="ä¾‹å¦‚ï¼šPalo Alto â†’ Mountain View" value="Palo Alto â†’ Mountain View">
      </div>
      <div class="ob-section">
        <h3>â° æ¨é€æ—¶é—´</h3>
        <div class="ob-row">
          <input class="ob-input" type="time" value="07:00" style="width:120px">
          <span style="font-size:14px;color:var(--text2)">æ¯æ—¥æ—©é—´é€Ÿè§ˆ</span>
        </div>
      </div>
      <button class="ob-start" onclick="showDashboard()">ğŸš€ å¼€å§‹ä½¿ç”¨</button>
    </div>
  </div>

  <!-- DASHBOARD -->
  <div class="screen" id="dashboard">
    <div class="dash-top">
      <div class="dash-top-row">
        <div>
          <div class="dash-city" id="dashCity">ğŸ“ Palo Alto</div>
          <div class="dash-date" id="dashDate"></div>
        </div>
        <div class="dash-weather">â˜€ï¸ 75Â°F Â· AQI 59</div>
      </div>
    </div>
    <div class="dash-cards">

      <!-- ä»Šæ—¥é€Ÿè§ˆ -->
      <div class="card">
        <div class="card-head">
          <div class="card-title">â˜€ï¸ ä»Šæ—¥é€Ÿè§ˆ</div>
          <span class="card-badge green">AIç”Ÿæˆ</span>
        </div>
        <div class="brief-grid">
          <div class="brief-item"><div class="val">75Â°</div><div class="label">æ¸©åº¦</div></div>
          <div class="brief-item"><div class="val" style="color:#f59e0b">59</div><div class="label">AQI</div></div>
          <div class="brief-item"><div class="val">5.3</div><div class="label">UV</div></div>
          <div class="brief-item"><div class="val" style="color:#22c55e">0%</div><div class="label">é™æ°´</div></div>
        </div>
        <ul class="brief-news">
          <li><span class="dot">â€¢</span>ğŸµ æ²ªä¸Šé˜¿å§¨(Auntea Jenny)å°†åœ¨University Aveå¼€æ¹¾åŒºé¦–åº—ï¼Œä»Šå¤å¼€ä¸š</li>
          <li><span class="dot">â€¢</span>ğŸ« PAUSDå¯åŠ¨æ–°æ€»ç›‘æœç´¢ï¼Œå‘5-7å®¶å…¬å¸å¾é›†ææ¡ˆ</li>
          <li><span class="dot">â€¢</span>ğŸ’° å¸‚æ”¿åºœåŠ¨ç”¨$1000ä¸‡+å‚¨å¤‡é‡‘å¡«é¢„ç®—ç¼ºå£</li>
        </ul>
      </div>

      <!-- æ’­å®¢ -->
      <div class="card">
        <div class="card-head">
          <div class="card-title">ğŸ™ï¸ ä»Šæ—¥æ’­å®¢</div>
          <span class="card-badge">3åˆ†é’Ÿ</span>
        </div>
        <div class="podcast-card">
          <div class="podcast-play">â–¶</div>
          <div>
            <div class="podcast-info"><div class="name">Palo Alto æ—©é—´æ–°é—»</div><div class="dur">AIè¯­éŸ³ Â· 2æœˆ27æ—¥</div></div>
          </div>
          <div class="podcast-wave" id="podWave"></div>
        </div>
      </div>

      <!-- å®‰å…¨æŠ¥å‘Š -->
      <div class="card">
        <div class="card-head">
          <div class="card-title">ğŸ›¡ï¸ å®‰å…¨æŠ¥å‘Š</div>
          <span class="card-badge orange">æœ¬å‘¨ 3èµ·</span>
        </div>
        <div class="safety-items">
          <div class="safety-item">
            <div class="safety-icon">âš ï¸</div>
            <div class="safety-text">Downtown University Ave æ€§éªšæ‰°æ¡ˆï¼Œå«ŒçŠ¯åœ¨é€ƒï¼Œè­¦æ–¹å·²è·ç›‘æ§<br><span class="time">2/19 Â· 200 University Ave</span></div>
          </div>
          <div class="safety-item">
            <div class="safety-icon">ğŸ”“</div>
            <div class="safety-text">60å²ç”·å­åœ¨å…¬äº¤ç«™å°æŠ¢åŠ«é«˜ä¸­ç”Ÿï¼Œå·²è¢«ç”µå‡»æªåˆ¶æœé€®æ•<br><span class="time">æœ¬å‘¨ Â· 95 University Ave</span></div>
          </div>
          <div class="safety-item">
            <div class="safety-icon">ğŸš¨</div>
            <div class="safety-text">åœè½¦åœºç­ç«å™¨æ”»å‡»äº‹ä»¶ï¼Œä¸€åç”·å­ç”¨ç­ç«å™¨å–·å‘ä»–äºº<br><span class="time">2/26 Â· å¸‚ä¸­å¿ƒåœè½¦åœº</span></div>
          </div>
        </div>
        <div style="margin-top:12px"><span class="card-more" onclick="alert('æŸ¥çœ‹å®Œæ•´å®‰å…¨æŠ¥å‘Š')">æŸ¥çœ‹å®Œæ•´æŠ¥å‘Š â†’</span></div>
      </div>

      <!-- å­¦åŒºåŠ¨æ€ -->
      <div class="card">
        <div class="card-head">
          <div class="card-title">ğŸ« PAUSD å­¦åŒºåŠ¨æ€</div>
          <span class="card-badge">å®¶é•¿å¿…çœ‹</span>
        </div>
        <div class="school-items">
          <div class="school-item"><div class="icon">ğŸ“¢</div><div class="text"><strong>æ–°æ€»ç›‘æœç´¢å¯åŠ¨</strong> â€” Boardå‘5-7å®¶æœç´¢å…¬å¸å¾é›†ææ¡ˆï¼Œå®¶é•¿å¯å‚ä¸å…¬å¼€æ„è§å¾é›†</div></div>
          <div class="school-item"><div class="icon">âœ…</div><div class="text"><strong>è£å‘˜è®¡åˆ’è¢«æ¨ç¿»</strong> â€” 5-0å…¨ç¥¨ä¿ç•™æ‰€æœ‰é˜…è¯»/æ•°å­¦ä¸“å®¶å²—ä½</div></div>
          <div class="school-item"><div class="icon">ğŸ’”</div><div class="text"><strong>å¿ƒç†å¥åº·æ”¯æŒåŠ å¼º</strong> â€” Uwillæä¾›å®¶é•¿/staffå…è´¹è¿œç¨‹å¿ƒç†å’¨è¯¢(3æ¬¡)</div></div>
          <div class="school-item"><div class="icon">ğŸ’°</div><div class="text"><strong>$325ä¸‡å’Œè§£</strong> â€” å‰Fletcherä¸­å­¦æ•™å¸ˆæ€§ä¾µæ¡ˆå’Œè§£</div></div>
        </div>
        <div class="school-rating">â­ GreatSchools 8-10/10 Â· 20æ‰€å­¦æ ¡ Â· 10,209åå­¦ç”Ÿ</div>
      </div>

      <!-- æˆ¿äº§å‘¨æŠ¥ -->
      <div class="card">
        <div class="card-head">
          <div class="card-title">ğŸ  æˆ¿äº§å‘¨æŠ¥</div>
          <span class="card-more">è¯¦æƒ… â†’</span>
        </div>
        <div class="re-stats">
          <div class="re-stat"><div class="val">$2.6M</div><div class="label">ç‹¬æ ‹æˆ¿ä¸­ä½ä»·</div><div class="change up">â†‘ 4.6% YoY</div></div>
          <div class="re-stat"><div class="val">7å¤©</div><div class="label">å¹³å‡å”®å‡ºå¤©æ•°</div><div class="change down">å–æ–¹å¸‚åœº</div></div>
          <div class="re-stat"><div class="val">107%</div><div class="label">æˆäº¤/æŒ‚ç‰Œæ¯”</div><div class="change up">é¢‘ç¹è¶…ä»·</div></div>
          <div class="re-stat"><div class="val">18å¥—</div><div class="label">åœ¨å”®æˆ¿æº</div><div class="change">åº“å­˜ç´§å¼ </div></div>
        </div>
        <div style="font-size:12px;color:var(--text3);margin-bottom:6px">è¿‘6æœˆæˆ¿ä»·è¶‹åŠ¿</div>
        <div class="re-chart" id="reChart"></div>
      </div>

      <!-- æœ¬å‘¨æ´»åŠ¨ -->
      <div class="card">
        <div class="card-head">
          <div class="card-title">ğŸ“… æœ¬å‘¨æ´»åŠ¨</div>
          <span class="card-more">å…¨éƒ¨ â†’</span>
        </div>
        <div class="event-items">
          <div class="event-item">
            <div class="event-date"><div class="month">2æœˆ</div><div class="day">28</div></div>
            <div class="event-info"><div class="name">ğŸŒ± Gamble Garden å›­è‰ºå·¥ä½œåŠ</div><div class="loc">10AM Â· 1431 Waverley St</div></div>
          </div>
          <div class="event-item">
            <div class="event-date"><div class="month">3æœˆ</div><div class="day">1</div></div>
            <div class="event-info"><div class="name">ğŸ® å…ƒå®µèŠ‚å®¶åº­å˜‰å¹´å</div><div class="loc">11AM Â· Mitchell Park Community Center</div></div>
          </div>
          <div class="event-item">
            <div class="event-date"><div class="month">3æœˆ</div><div class="day">1</div></div>
            <div class="event-info"><div class="name">ğŸ€ Stanfordå¥³ç¯® vs Clemson</div><div class="loc">TBD Â· Maples Pavilion</div></div>
          </div>
        </div>
      </div>

      <!-- å•†å®¶èšç„¦ -->
      <div class="card">
        <div class="card-head">
          <div class="card-title">ğŸª å•†å®¶èšç„¦</div>
          <span class="card-badge green">æ–°å¼€ä¸š</span>
        </div>
        <div class="biz-items">
          <div class="biz-item">
            <div class="biz-img" style="background:#fff3f3">ğŸ£</div>
            <div class="biz-info">
              <div class="name">Yutori</div>
              <div class="cat">æ—¥æœ¬é¤å… Â· å’–å•¡ Â· å¸‚é›† Â· 2æœˆåº•å¼€ä¸š</div>
              <div class="desc">å‰Googleé¦–å¸­å¯¿å¸å¨å¸ˆä¸»ç†ï¼Œ5000sqftæ—¥æœ¬ç”Ÿæ´»æ–¹å¼ç©ºé—´</div>
            </div>
          </div>
          <div class="biz-item">
            <div class="biz-img" style="background:#f3fff3">ğŸ¥™</div>
            <div class="biz-info">
              <div class="name">All-You-Can-Eat Kebabs & Mezes</div>
              <div class="cat">åœ°ä¸­æµ· Â· æ— é™é‡ Â· å·²å¼€ä¸š</div>
              <div class="desc">å·´è¥¿çƒ¤è‚‰å¼æœåŠ¡ï¼ŒæœåŠ¡å‘˜ä¸æ–­ç«¯çƒ¤ä¸²å’Œå°èœåˆ°æ¡Œå‰</div>
            </div>
          </div>
          <div class="biz-item">
            <div class="biz-img" style="background:#f3f3ff">ğŸµ</div>
            <div class="biz-info">
              <div class="name">æ²ªä¸Šé˜¿å§¨ (Auntea Jenny)</div>
              <div class="cat">é²œæœèŒ¶ Â· University Ave Â· ä»Šå¤å¼€ä¸š</div>
              <div class="desc">å…¨çƒ10000+é—¨åº—ä¸­å›½èŒ¶é¥®å“ç‰Œï¼Œæ¹¾åŒºé¦–åº—</div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>

<!-- Chat FAB -->
<button class="chat-fab" id="chatFab" onclick="openChat()">ğŸ’¬</button>

<!-- Chat Overlay -->
<div id="chatOverlay">
  <div class="chat-panel">
    <div class="chat-header">
      <h3>ğŸ¤– å®šåˆ¶ä½ çš„åŠ©æ‰‹</h3>
      <button class="chat-close" onclick="closeChat()">âœ•</button>
    </div>
    <div class="chat-messages" id="chatMsgs">
      <div class="chat-msg bot">ä½ å¥½ï¼æˆ‘æ˜¯ä½ çš„Palo Altoæœ¬åœ°AIåŠ©æ‰‹ã€‚å‘Šè¯‰æˆ‘ä½ æƒ³å…³æ³¨ä»€ä¹ˆï¼Œæˆ‘æ¥å¸®ä½ å®šåˆ¶ âœ¨</div>
    </div>
    <div class="chat-typing" id="chatTyping"><span></span><span></span><span></span></div>
    <div class="chat-chips" id="chatChips">
      <div class="chat-chip" onclick="sendChip(this)">åªå…³æ³¨Gunn High School</div>
      <div class="chat-chip" onclick="sendChip(this)">æ¯å¤©æ—©ä¸Š7ç‚¹æ¨é€</div>
      <div class="chat-chip" onclick="sendChip(this)">åŠ ä¸Šé€šå‹¤è·¯å†µ PAâ†’MV</div>
      <div class="chat-chip" onclick="sendChip(this)">å…³æ³¨å® ç‰©é¢†å…»ä¿¡æ¯</div>
      <div class="chat-chip" onclick="sendChip(this)">åªçœ‹ä¸­æ–‡å†…å®¹</div>
      <div class="chat-chip" onclick="sendChip(this)">è¿½è¸ªZaytinyaå¼€ä¸š</div>
    </div>
    <div class="chat-input-row">
      <input class="chat-input" id="chatInput" placeholder="è¾“å…¥ä½ çš„éœ€æ±‚..." onkeydown="if(event.key==='Enter')sendMsg()">
      <button class="chat-send" onclick="sendMsg()">â†‘</button>
    </div>
  </div>
</div>

<!-- Tab Bar -->
<div class="tab-bar" id="tabBar">
  <div class="tab-item active"><span class="icon">ğŸ </span>é¦–é¡µ</div>
  <div class="tab-item"><span class="icon">ğŸ”</span>å‘ç°</div>
  <div class="tab-item"><span class="icon">ğŸ“°</span>æ–°é—»</div>
  <div class="tab-item"><span class="icon">ğŸ¤–</span>AIåŠ©æ‰‹</div>
  <div class="tab-item"><span class="icon">ğŸ‘¤</span>æˆ‘çš„</div>
</div>

<script>
let currentCity = '';

function selectCity(city) {
  currentCity = city;
  document.getElementById('obCity').textContent = city;
  showScreen('onboard');
}

function showScreen(id) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

function toggleTopic(el) { el.classList.toggle('selected'); }

function showDashboard() {
  document.getElementById('dashCity').textContent = 'ğŸ“ ' + currentCity;
  const d = new Date();
  const days = ['å‘¨æ—¥','å‘¨ä¸€','å‘¨äºŒ','å‘¨ä¸‰','å‘¨å››','å‘¨äº”','å‘¨å…­'];
  document.getElementById('dashDate').textContent = `${d.getFullYear()}å¹´${d.getMonth()+1}æœˆ${d.getDate()}æ—¥ ${days[d.getDay()]}`;
  showScreen('dashboard');
  document.getElementById('chatFab').classList.add('show');
  document.getElementById('tabBar').classList.add('show');
  initCharts();
}

function initCharts() {
  // Real estate chart
  const heights = [65, 70, 68, 75, 78, 82];
  const chart = document.getElementById('reChart');
  chart.innerHTML = '';
  heights.forEach((h, i) => {
    const bar = document.createElement('div');
    bar.className = 'bar re-bar';
    bar.style.height = '0';
    chart.appendChild(bar);
    setTimeout(() => bar.style.height = h + '%', 100 + i * 80);
  });
  // Podcast wave
  const wave = document.getElementById('podWave');
  wave.innerHTML = '';
  for(let i = 0; i < 24; i++) {
    const s = document.createElement('span');
    s.style.height = (8 + Math.random() * 22) + 'px';
    wave.appendChild(s);
  }
}

// Chat
const responses = {
  'åªå…³æ³¨Gunn High School': 'âœ… å·²è®¾ç½®ï¼å­¦åŒºåŠ¨æ€å°†åªè¿½è¸ª **Gunn High School** çš„æ¶ˆæ¯ï¼ŒåŒ…æ‹¬ï¼š\n\nâ€¢ æ ¡è‘£ä¼šæ¶‰åŠGunnçš„å†³è®®\nâ€¢ Gunnçš„è€ƒè¯•æˆç»©å’Œæ’åå˜åŒ–\nâ€¢ åœè¯¾/å»¶è¿Ÿé€šçŸ¥\nâ€¢ Gunnç›¸å…³æ´»åŠ¨\n\nå…¶ä»–PAUSDå­¦æ ¡çš„æ¶ˆæ¯å°†ä¸å†æ¨é€ã€‚',
  'æ¯å¤©æ—©ä¸Š7ç‚¹æ¨é€': 'â° å·²è®¾ç½®ï¼æ¯å¤©æ—©ä¸Š7:00 AMä¼šæ¨é€ä½ çš„ä¸ªæ€§åŒ–é€Ÿè§ˆï¼ŒåŒ…å«ï¼š\n\nâ˜€ï¸ å¤©æ°”+AQI\nğŸ“° Top 3æœ¬åœ°æ–°é—»\nğŸ›¡ï¸ è¿‡å¤œå®‰å…¨äº‹ä»¶\nğŸš— é€šå‹¤è·¯å†µ\n\næ¨é€å°†åœ¨7:00å‡†æ—¶é€è¾¾ã€‚',
  'åŠ ä¸Šé€šå‹¤è·¯å†µ PAâ†’MV': 'ğŸš— å·²æ·»åŠ ï¼æ¯æ—¥é€Ÿè§ˆå°†åŒ…å« Palo Alto â†’ Mountain View çš„å®æ—¶é€šå‹¤ä¿¡æ¯ï¼š\n\nâ€¢ El Camino Real è·¯å†µ\nâ€¢ Hwy 101 æ‹¥å µé¢„è­¦\nâ€¢ Central Expressway æ›¿ä»£è·¯çº¿\nâ€¢ é¢„è®¡é€šå‹¤æ—¶é—´\n\nå¦‚é‡é‡å¤§äº‹æ•…ä¼šé¢å¤–æ¨é€ã€‚',
  'å…³æ³¨å® ç‰©é¢†å…»ä¿¡æ¯': 'ğŸ• å·²å¼€å¯å® ç‰©é¢‘é“ï¼å°†ä¸ºä½ è¿½è¸ªï¼š\n\nâ€¢ Pets In Need (PAæœ¬åœ°æ”¶å®¹æ‰€) æ–°åˆ°é¢†å…»å® ç‰©\nâ€¢ ç¤¾åŒºèµ°å¤±å® ç‰©å…¬å‘Š\nâ€¢ å…è´¹é¢†å…»æ´»åŠ¨\n\nç›®å‰PAæœ‰ä¸€åªAmerican Eskimoè¿·ä½ å‹æ­£åœ¨å¯»æ‰¾æ–°å®¶ï¼',
  'åªçœ‹ä¸­æ–‡å†…å®¹': 'ğŸ‡¨ğŸ‡³ å·²åˆ‡æ¢ä¸ºä¸­æ–‡ä¼˜å…ˆæ¨¡å¼ï¼\n\nâ€¢ AIæ‘˜è¦å…¨éƒ¨ä½¿ç”¨ä¸­æ–‡\nâ€¢ ä¼˜å…ˆå±•ç¤ºä¸­æ–‡ç¤¾åŒºç›¸å…³å†…å®¹\nâ€¢ è‹±æ–‡æ–°é—»è‡ªåŠ¨ç¿»è¯‘æ‘˜è¦\n\næ³¨æ„ï¼šéƒ¨åˆ†åŸå§‹é“¾æ¥ä»ä¸ºè‹±æ–‡ã€‚',
  'è¿½è¸ªZaytinyaå¼€ä¸š': 'ğŸ½ï¸ å·²è®¾ç½®è¿½è¸ªï¼JosÃ© AndrÃ©sçš„Zaytinyaé¢„è®¡åœ¨Stanford Shopping Centerå¼€ä¸šï¼Œæˆ‘ä¼šæŒç»­å…³æ³¨ï¼š\n\nâ€¢ ç¡®åˆ‡å¼€ä¸šæ—¥æœŸå…¬å¸ƒ\nâ€¢ èœå•å’Œé¢„çº¦ä¿¡æ¯\nâ€¢ å¼€ä¸šä¼˜æƒ \nâ€¢ é£Ÿè¯„\n\næœ‰æ–°æ¶ˆæ¯ä¼šç¬¬ä¸€æ—¶é—´é€šçŸ¥ä½ ï¼'
};

function openChat() { document.getElementById('chatOverlay').classList.add('show'); }
function closeChat() { document.getElementById('chatOverlay').classList.remove('show'); }

function sendChip(el) {
  const text = el.textContent;
  el.style.display = 'none';
  addMsg(text, 'user');
  showTyping();
  setTimeout(() => {
    hideTyping();
    addMsg(responses[text] || 'âœ… å·²è®°å½•ä½ çš„åå¥½ï¼Œæˆ‘ä¼šç›¸åº”è°ƒæ•´æ¨é€å†…å®¹ï¼', 'bot');
  }, 1200 + Math.random() * 800);
}

function sendMsg() {
  const input = document.getElementById('chatInput');
  const text = input.value.trim();
  if (!text) return;
  input.value = '';
  addMsg(text, 'user');
  showTyping();
  setTimeout(() => {
    hideTyping();
    addMsg('âœ… æ˜ç™½ï¼æˆ‘å·²ç»æ›´æ–°äº†ä½ çš„åå¥½è®¾ç½®ã€‚è¿™ä¸ªå˜æ›´ä¼šåœ¨ä¸‹æ¬¡æ¨é€ä¸­ç”Ÿæ•ˆã€‚è¿˜æœ‰ä»€ä¹ˆéœ€è¦è°ƒæ•´çš„å—ï¼Ÿ', 'bot');
  }, 1500);
}

function addMsg(text, type) {
  const msgs = document.getElementById('chatMsgs');
  const div = document.createElement('div');
  div.className = 'chat-msg ' + type;
  div.innerHTML = text.replace(/\n/g, '<br>').replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
  msgs.appendChild(div);
  msgs.scrollTop = msgs.scrollHeight;
}

function showTyping() { document.getElementById('chatTyping').style.display = 'block'; }
function hideTyping() { document.getElementById('chatTyping').style.display = 'none'; }

// Close chat on overlay click
document.getElementById('chatOverlay').addEventListener('click', function(e) {
  if (e.target === this) closeChat();
});
</script>

</body>
</html>
